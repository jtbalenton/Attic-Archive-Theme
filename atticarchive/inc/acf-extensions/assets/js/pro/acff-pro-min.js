!function(e,t){var a=acf.Field.extend({type:"custom_terms",select2:!1,wait:"load",events:{removeField:"onRemove",duplicateField:"onDuplicate"},$input:function(){return this.$("select")},initialize:function(){var e=this.$input();if(this.inherit(e),this.get("ui")){var t=this.get("ajax_action");t||(t="acf/fields/"+this.get("type")+"/query"),this.select2=acf.newSelect2(e,{field:this,ajax:this.get("ajax"),multiple:this.get("multiple"),placeholder:this.get("placeholder"),allowNull:this.get("allow_null"),ajaxAction:t})}},onRemove:function(){this.select2&&this.select2.destroy()},onDuplicate:function(e,t,a){this.select2&&(a.find(".select2-container").remove(),a.find("select").removeClass("select2-hidden-accessible"))}});acf.registerFieldType(a)}(jQuery),function(e,t){var a=acf.Field.extend({type:"product_types",data:{ftype:"select"},select2:!1,wait:"load",events:{'click input[type="radio"]':"onClickRadio","change select":"onChooseOption"},$control:function(){return this.$(".acf-product-types-field")},$input:function(){return this.getRelatedPrototype().$input.apply(this,arguments)},$forVariable:function(e){return e.parents("form").find(".acf-field-product-attributes").find('div[data-name="locations"]').find("li:last")},getRelatedType:function(){var e=this.get("ftype");return"multi_select"==e&&(e="select"),e},getRelatedPrototype:function(){return acf.getFieldType(this.getRelatedType()).prototype},initialize:function(){this.getRelatedPrototype().initialize.apply(this,arguments)},onClickRadio:function(e,t){var a=t.parent("label"),i=a.hasClass("selected");this.$(".selected").removeClass("selected"),a.addClass("selected"),this.get("allow_null")&&i&&(a.removeClass("selected"),t.prop("checked",!1).trigger("change")),"variable"==this.$input().val()?this.$forVariable(t).removeClass("acf-hidden"):this.$forVariable(t).addClass("acf-hidden")},onChooseOption:function(e,t){"variable"==this.$input().val()?this.$forVariable(t).removeClass("acf-hidden"):this.$forVariable(t).addClass("acf-hidden")}});acf.registerFieldType(a),acf.registerConditionForFieldType("equalTo","product_types"),acf.registerConditionForFieldType("notEqualTo","product_types")}(jQuery),function(e){var t=acf.Field.extend({type:"product_attributes",wait:"",events:{'click [data-name="add-layout"]':"onClickAdd",'click [data-name="save-changes"]':"onClickSave",'click [data-name="duplicate-layout"]':"onClickDuplicate",'click [data-name="remove-layout"]':"onClickRemove",'click [data-name="collapse-layout"]':"onClickCollapse",showField:"onShow",unloadField:"onUnload",mouseover:"onHover"},$control:function(){return this.$(".acf-layout-item:first")},$layoutsWrap:function(){return this.$(".acf-layout-item:first > .values")},$layouts:function(){return this.$(".acf-layout-item:first > .values > .layout")},$layout:function(e){return this.$(".acf-layout-item:first > .values > .layout:eq("+e+")")},$clonesWrap:function(){return this.$(".acf-layout-item:first > .clones")},$clones:function(){return this.$(".acf-layout-item:first > .clones  > .layout")},$clone:function(e){return this.$('.acf-layout-item:first > .clones  > .layout[data-layout="'+e+'"]')},$actions:function(){return this.$(".acf-actions:last")},$button:function(){return this.$(".acf-actions:last a.add-attrs")},$saveButton:function(){return this.$(".acf-actions:last a.save-changes")},$forVariations:function(){return this.$('div[data-name="locations"]').find("li:last")},$productTypeField:function(){return this.$el.parents("form").find(".acf-field-product-types")},$productType:function(){return this.$productTypeField().find("select").val()?this.$productTypeField().find("select").val():this.$productTypeField().find("input:checked").val()},$popup:function(){return this.$(".tmpl-popup:last")},getPopupHTML:function(){var t=this.$popup().html();t=e(t);var a=this.$layouts();return t.find("[data-layout]").each((function(){var t=e(this),i=t.data("min")||0,n=t.data("max")||0,o=t.data("layout")||"",s=function(t){return a.filter((function(){return e(this).data("layout")===t})).length}(o);if(n&&s>=n)t.addClass("disabled");else if(i&&s<i){n=i-s,s=acf.__("{required} {label} {identifier} required (min {min})");var r=acf._n("layout","layouts",n);s=(s=(s=(s=s.replace("{required}",n)).replace("{label}",o)).replace("{identifier}",r)).replace("{min}",i),t.append('<span class="badge" title="'+s+'">'+n+"</span>")}})),t=t.outerHTML()},getValue:function(){return this.$layouts().length},allowRemove:function(){var e=parseInt(this.get("min"));return!e||e<this.val()},allowAdd:function(){var e=parseInt(this.get("max"));return!e||e>this.val()},isFull:function(){var e=parseInt(this.get("max"));return e&&this.val()>=e},addSortable:function(e){1!=this.get("max")&&this.$layoutsWrap().sortable({items:"> .layout",handle:"> .acf-fc-layout-handle",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,stop:function(t,a){e.render()},update:function(t,a){e.$input().trigger("change")}})},addCollapsed:function(){var t=i.load(this.get("key"));if(!t)return!1;this.$layouts().each((function(a){-1<t.indexOf(a)&&e(this).addClass("-collapsed")}))},addUnscopedEvents:function(t){this.on("invalidField",".layout",(function(a){t.onInvalidField(a,e(this))}))},initialize:function(){this.addUnscopedEvents(this),this.addCollapsed(),acf.disable(this.$clonesWrap(),this.cid),this.render()},render:function(){this.$layouts().each((function(t){e(this).find(".acf-fc-layout-order:first").html(t+1)})),0==this.val()?this.$control().addClass("-empty"):this.$control().removeClass("-empty"),this.isFull()?this.$button().addClass("disabled"):this.$button().removeClass("disabled"),"variable"!=this.$productType()&&this.$forVariations().addClass("acf-hidden")},onShow:function(e,t,a){e=acf.getFields({is:":visible",parent:this.$el}),acf.doAction("show_fields",e)},validateAdd:function(){if(this.allowAdd())return!0;var e=this.get("max"),t=acf.__("This field has a limit of {max} {label} {identifier}"),a=acf._n("layout","layouts",e);return t=(t=(t=t.replace("{max}",e)).replace("{label}","")).replace("{identifier}",a),this.showNotice({text:t,type:"warning"}),!1},onClickAdd:function(e,t){if(!this.validateAdd())return!1;var i=null;t.hasClass("acf-icon")&&(i=t.closest(".layout")).addClass("-hover"),new a({target:t,targetConfirm:!1,text:this.getPopupHTML(),context:this,confirm:function(e,t){t.hasClass("disabled")||this.add({layout:t.data("layout"),before:i}),i&&i.removeClass("-hover")},cancel:function(){i&&i.removeClass("-hover")}}).on("click","[data-layout]","onConfirm")},add:function(e){if(e=acf.parseArgs(e,{layout:"",before:!1}),!this.allowAdd())return!1;var t=acf.duplicate({target:this.$clone(e.layout),append:this.proxy((function(t,a){e.before?e.before.before(a):this.$layoutsWrap().append(a),acf.enable(a,this.cid),this.render()}))});return this.$input().trigger("change"),t},onClickSave:function(t,a){var i=this;i.$saveButton().addClass("disabled").after('<span class="acf-loading"></span>');var n=a.parents("form"),o=new FormData(n[0]);o.append("action","acff/fields/attributes/save_attributes"),o.append("field_key",a.data("key")),e.ajax({url:acf.get("ajaxurl"),data:o,type:"post",cache:!1,processData:!1,contentType:!1,success:function(e){e.data.variations&&(i.$saveButton().removeClass("disabled").siblings(".acf-loading").remove(),n.find(".acf-field-product-variations").replaceWith(e.data.variations),acf.doAction("append",n),n.find("input[name=_acf_product]").val(e.data.product_id),n.find("input[name=_acf_form]").val(e.data.form_data))}})},onClickDuplicate:function(e,t){if(!this.validateAdd())return!1;var a=t.closest(".layout");this.duplicateLayout(a)},duplicateLayout:function(e){if(!this.allowAdd())return!1;var t=this.get("key");return e=acf.duplicate({target:e,rename:function(e,a,i,n){return"id"===e?a.replace(t+"-"+i,t+"-"+n):a.replace(t+"]["+i,t+"]["+n)},before:function(e){acf.doAction("unmount",e)},after:function(e,t){acf.doAction("remount",e)}}),this.$input().trigger("change"),this.render(),acf.focusAttention(e),e},validateRemove:function(){if(this.allowRemove())return!0;var e=this.get("min"),t=acf.__("This field requires at least {min} {label} {identifier}"),a=acf._n("layout","layouts",e);return t=(t=(t=t.replace("{min}",e)).replace("{label}","")).replace("{identifier}",a),this.showNotice({text:t,type:"warning"}),!1},onClickRemove:function(e,t){var a=t.closest(".layout");if(e.shiftKey)return this.removeLayout(a);a.addClass("-hover"),acf.newTooltip({confirmRemove:!0,target:t,context:this,confirm:function(){this.removeLayout(a)},cancel:function(){a.removeClass("-hover")}})},removeLayout:function(e){var t=this,a=1==this.getValue()?60:0;acf.remove({target:e,endHeight:a,complete:function(){t.$input().trigger("change"),t.render()}})},onClickCollapse:function(e,t){var a=t.closest(".layout");this.isLayoutClosed(a)?this.openLayout(a):this.closeLayout(a)},isLayoutClosed:function(e){return e.hasClass("-collapsed")},openLayout:function(e){e.removeClass("-collapsed"),acf.doAction("show",e,"collapse")},closeLayout:function(e){e.addClass("-collapsed"),acf.doAction("hide",e,"collapse")},onUnload:function(){var t=[];this.$layouts().each((function(a){e(this).hasClass("-collapsed")&&t.push(a)})),t=t.length?t:null,i.save(this.get("key"),t)},onInvalidField:function(e,t){this.isLayoutClosed(t)&&this.openLayout(t)},onHover:function(){this.addSortable(this),this.off("mouseover")}});acf.registerFieldType(t);var a=acf.models.TooltipConfirm.extend({events:{"click [data-layout]":"onConfirm",'click [data-event="cancel"]':"onCancel"},render:function(){this.html(this.get("text")),this.$el.addClass("acf-fc-popup")}});acf.registerConditionForFieldType("hasValue","product_attributes"),acf.registerConditionForFieldType("hasNoValue","product_attributes"),acf.registerConditionForFieldType("lessThan","product_attributes"),acf.registerConditionForFieldType("greaterThan","product_attributes");var i=new acf.Model({name:"this.collapsedLayouts",key:function(e,t){var a=this.get(e+t)||0;return a++,this.set(e+t,a,!0),1<a&&(e+="-"+a),e},load:function(e){e=this.key(e,"load");var t=acf.getPreference(this.name);return!(!t||!t[e])&&t[e]},save:function(t,a){t=this.key(t,"save");var i=acf.getPreference(this.name)||{};null===a?delete i[t]:i[t]=a,e.isEmptyObject(i)&&(i=null),acf.setPreference(this.name,i)}});e("body").on("click",".acff-prev-button",(function(t){e(this).before('<span class="acf-loading"></span>');var a=e(this).parents(".acff-tabs"),i=a.data("widget");t={action:"acff/forms/change_form",form_data:a.find("input[name=_acf_form]").val()},e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(t),type:"post",dataType:"json",cache:!1,success:function(t){t.data.reload_form&&(a.siblings(".acff-form-posts").remove(),a.replaceWith(t.data.reload_form),acf.do_action("append",e(".elementor-element-"+i)))}})})),e("body").on("click",".change-step",(function(t){var a=e(this).parents(".acff-tabs").find("form");a.prepend('<span class="change-step-loading acf-loading"></span>');var i=a.data("widget");t={action:"acff/forms/change_form",form_data:a.find("input[name=_acf_form]").val(),step:e(this).data("step")},e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(t),type:"post",dataType:"json",cache:!1,success:function(t){t.success&&t.data.reload_form&&(a.siblings(".acff-form-posts").remove(),a.parents(".acff-tabs").replaceWith(t.data.reload_form),acf.do_action("append",e(".elementor-element-"+i)))}})}))}(jQuery),function(e){var t=acf.Field.extend({type:"product_variations",wait:"",events:{'click a[data-event="add-row"]':"onClickAdd",'click [data-name="save-changes"]':"onClickSave",'click a[data-event="remove-row"]':"onClickRemove","click .acf-row-handle.order":"onClickCollapse",showField:"onShow",unloadField:"onUnload",mouseover:"onHover"},$control:function(){return this.$(".acf-list-item:first")},$table:function(){return this.$("table:first")},$tbody:function(){return this.$("tbody:first")},$rows:function(){return this.$("tbody:first > tr").not(".acf-clone")},$row:function(e){return this.$("tbody:first > tr:eq("+e+")")},$clone:function(){return this.$("tbody:first > tr.acf-clone")},$actions:function(){return this.$(".acf-actions:last")},$button:function(){return this.$(".acf-actions:last .add-variation")},$saveButton:function(){return this.$(".acf-actions:last .save-changes")},getValue:function(){return this.$rows().length},allowRemove:function(){var e=parseInt(this.get("min"));return!e||e<this.val()},allowAdd:function(){var e=parseInt(this.get("max"));return!e||e>this.val()},addSortable:function(e){1!=this.get("max")&&this.$tbody().sortable({items:"> tr",handle:"> td.order",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,stop:function(t,a){e.render()},update:function(t,a){e.$input().trigger("change")}})},addCollapsed:function(){var t=a.load(this.get("key"));if(!t)return!1;this.$rows().each((function(a){t.indexOf(a)>-1&&e(this).addClass("-collapsed")}))},addUnscopedEvents:function(t){this.on("invalidField",".acf-row",(function(a){var i=e(this);t.isCollapsed(i)&&t.expand(i)}))},initialize:function(){this.addUnscopedEvents(this),this.addCollapsed(),acf.disable(this.$clone(),this.cid),this.render()},render:function(){0==this.val()?this.$control().addClass("-empty"):this.$control().removeClass("-empty"),this.allowAdd()?this.$button().removeClass("disabled"):this.$button().addClass("disabled")},validateAdd:function(){if(this.allowAdd())return!0;var e=this.get("max"),t=acf.__("Maximum rows reached ({max} rows)");return t=t.replace("{max}",e),this.showNotice({text:t,type:"warning"}),!1},onClickAdd:function(t,a){if(!this.validateAdd())return!1;this.$button().after('<span class="acf-loading"></span>');var i=this,n=a.parents("form"),o={action:"acff/fields/variations/add_variation",field_key:a.data("key"),nonce:n.find("input[name=_acf_nonce]").val(),parent_id:n.find("input[name=_acf_product]").val()};e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(o),type:"post",dataType:"json",cache:!1,success:function(e){e.data.variation_id&&(a.hasClass("acf-icon")?i.add({before:a.closest(".acf-row"),variationID:e.data.variation_id}):i.add({variationID:e.data.variation_id}))}})},add:function(e){if(!this.allowAdd())return!1;e=acf.parseArgs(e,{before:!1});var t=acf.duplicate({target:this.$clone(),append:this.proxy((function(t,a){e.before?e.before.before(a):t.before(a),a.removeClass("acf-clone -collapsed"),a.find(".variation-id").html("#"+e.variationID),a.find(".acf-icon.-minus").attr("data-variation_id",e.variationID),a.find(".row-variation-id").val(e.variationID),acf.enable(a,this.cid),this.render(),this.$button().siblings(".acf-loading").remove()}))});return this.$input().trigger("change"),t},onClickSave:function(t,a){var i=this;i.$saveButton().addClass("disabled").after('<span class="acf-loading"></span>');var n=a.parents("form"),o=new FormData(n[0]);o.append("action","acff/fields/variations/save_variations"),o.append("field_key",a.data("key")),e.ajax({url:acf.get("ajaxurl"),data:o,type:"post",cache:!1,processData:!1,contentType:!1,success:function(e){e.data.product_id&&i.$saveButton().removeClass("disabled").siblings(".acf-loading").remove()}})},validateRemove:function(){if(this.allowRemove())return!0;var e=this.get("min"),t=acf.__("Minimum rows reached ({min} rows)");return t=t.replace("{min}",e),this.showNotice({text:t,type:"warning"}),!1},onClickRemove:function(e,t){var a=t.closest(".acf-row");a.addClass("-hover");acf.newTooltip({confirmRemove:!0,target:t,context:this,confirm:function(){this.remove(a,t)},cancel:function(){a.removeClass("-hover")}})},remove:function(t,a){var i=this,n=a.parents("form"),o={action:"acff/fields/variations/remove_variation",field_key:a.data("key"),nonce:n.find("input[name=_acf_nonce]").val(),variation_id:a.data("variation_id")};e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(o),type:"post",dataType:"json",cache:!1,success:function(e){acf.remove({target:t,endHeight:0,complete:function(){i.$input().trigger("change"),i.render()}})}})},isCollapsed:function(e){return e.hasClass("-collapsed")},collapse:function(e){e.addClass("-collapsed"),acf.doAction("hide",e,"collapse")},expand:function(e){e.removeClass("-collapsed"),acf.doAction("show",e,"collapse")},onClickCollapse:function(e,t){var a=t.closest(".acf-row"),i=this.isCollapsed(a);e.shiftKey&&(a=this.$rows()),i?this.expand(a):this.collapse(a)},onShow:function(e,t,a){var i=acf.getFields({is:":visible",parent:this.$el});acf.doAction("show_fields",i)},onUnload:function(){var t=[];this.$rows().each((function(a){e(this).hasClass("-collapsed")&&t.push(a)})),t=t.length?t:null,a.save(this.get("key"),t)},onHover:function(){this.addSortable(this),this.off("mouseover")}});acf.registerFieldType(t),acf.registerConditionForFieldType("hasValue","product_variations"),acf.registerConditionForFieldType("hasNoValue","product_variations"),acf.registerConditionForFieldType("lessThan","product_variations"),acf.registerConditionForFieldType("greaterThan","product_variations");t=acf.models.ListItemsField.extend({type:"downloadable_files"});acf.registerFieldType(t),acf.registerConditionForFieldType("hasValue","downloadable_files"),acf.registerConditionForFieldType("hasNoValue","downloadable_files"),acf.registerConditionForFieldType("lessThan","downloadable_files"),acf.registerConditionForFieldType("greaterThan","downloadable_files");t=acf.models.UploadFilesField.extend({type:"product_images"});acf.registerFieldType(t),acf.registerConditionForFieldType("hasValue","product_images"),acf.registerConditionForFieldType("hasNoValue","product_images"),acf.registerConditionForFieldType("selectionLessThan","product_images"),acf.registerConditionForFieldType("selectionGreaterThan","product_images");var a=new acf.Model({name:"this.collapsedRows",key:function(e,t){var a=this.get(e+t)||0;return a++,this.set(e+t,a,!0),a>1&&(e+="-"+a),e},load:function(e){e=this.key(e,"load");var t=acf.getPreference(this.name);return!(!t||!t[e])&&t[e]},save:function(t,a){t=this.key(t,"save");var i=acf.getPreference(this.name)||{};null===a?delete i[t]:i[t]=a,e.isEmptyObject(i)&&(i=null),acf.setPreference(this.name,i)}});new acf.Model({filters:{select2_args:"select2Args",select2_ajax_data:"select2Ajax"},select2Args:function(t,a,i,n,o){return n.get("allowCustom")&&(t.tags=!0,t.createTag=function(t){var a=e.trim(t.term);if(""===a)return null;var i=!1;return this.$element.find("option").each((function(){if(this.value.toLowerCase()===a.toLowerCase())return i=!0,!1})),i?null:{id:a,text:a}},t.insertTag=function(t,a){var i=!1;e.each(t,(function(){if(e.trim(a.text).toUpperCase()===e.trim(this.text).toUpperCase())return i=!0,!1})),i||t.unshift(a)}),t=acf.applyFilters("select2_args/type="+n.get("type"),t,a,i,n,o),t=acf.applyFilters("select2_args/name="+n.get("name"),t,a,i,n,o),t=acf.applyFilters("select2_args/key="+n.get("key"),t,a,i,n,o)},select2Ajax:function(e,t,a,i,n){return e=acf.applyFilters("select2_ajax_data/type="+i.get("type"),e,t,a,i,n),e=acf.applyFilters("select2_ajax_data/name="+i.get("name"),e,t,a,i,n),(e=acf.applyFilters("select2_ajax_data/key="+i.get("key"),e,t,a,i,n)).action&&(e=acf.applyFilters("select2_ajax_data/action="+e.action,e,t,a,i,n)),e}});e.each(["manage_stock","sold_individually","is_virtual","is_downloadable","product_enable_reviews"],(function(e,t){var a=acf.models.TrueFalseField.extend({type:t});acf.registerFieldType(a),acf.registerConditionForFieldType("equalTo",t),acf.registerConditionForFieldType("notEqualTo",t)}));var i=acf.Field.extend({type:"recaptcha",wait:"load",actions:{validation_failure:"validationFailure"},$control:function(){return this.$(".acff-recaptcha")},$input:function(){return this.$('input[type="hidden"]')},$selector:function(){return this.$control().find("> div")},selector:function(){return this.$selector()[0]},initialize:function(){"v2"===this.get("version")?this.renderV2(this):"v3"===this.get("version")&&this.renderV3()},renderV2:function(e){var t=this.selector(),a=this.$input(),i=this.get("siteKey"),n=this.get("theme"),o=this.get("size");this.recaptcha=grecaptcha.render(t,{sitekey:i,theme:n,size:o,callback:function(t){acf.val(a,t,!0),e.removeError()},"error-callback":function(){acf.val(a,"",!0),e.showError("An error has occured")},"expired-callback":function(){acf.val(a,"",!0),e.showError("reCaptcha has expired")}})},renderV3:function(){var e=this.$input(),t=this.get("siteKey");grecaptcha.ready((function(){grecaptcha.execute(t,{action:"homepage"}).then((function(t){acf.val(e,t,!0)}))}))},validationFailure:function(e){"v2"===this.get("version")&&grecaptcha.reset(this.recaptcha)}});acf.registerFieldType(i)}(jQuery);